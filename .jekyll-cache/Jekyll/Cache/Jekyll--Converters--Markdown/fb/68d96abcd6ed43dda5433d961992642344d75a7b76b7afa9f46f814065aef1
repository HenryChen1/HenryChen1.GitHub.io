I"¿<h2 id="ä»Šæ—¥ä¸€çš®">ä»Šæ—¥ä¸€çš®ğŸ¤£</h2>

<p><img src="E:\HenryChen1.GitHub.io\img\post img\note_04_1.png" alt="note_04_1" /></p>

<p>â€‹</p>

<p>å¸Œæœ›ä¸»ç®¡ä¸ä¼šæ€äº†æˆ‘</p>
<hr />

<h3 id="è¿™ä¸¤å¤©é‡æ¸©äº†åŠ¨æ€åˆ†é…å†…å­˜ç”¨ä¸Šäº†è¿˜å­¦åˆ°äº†è¿”å›æ•°ç»„æŒ‡é’ˆçš„å‡½æ•°è°ƒç”¨">è¿™ä¸¤å¤©é‡æ¸©äº†åŠ¨æ€åˆ†é…å†…å­˜ç”¨ä¸Šäº†ï¼Œè¿˜å­¦åˆ°äº†è¿”å›æ•°ç»„æŒ‡é’ˆçš„å‡½æ•°è°ƒç”¨ğŸ±â€ğŸ’»</h3>

<p>ä»å¯„å­˜å™¨ä¸­è·å–æ•°æ®å¸§çš„æ•°æ®çš„å‡½æ•°ï¼š</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int16_t</span> <span class="o">*</span><span class="n">CProtocol</span><span class="o">::</span><span class="n">GetExceptPoints</span><span class="p">(</span><span class="n">BYTE</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int16_t</span> <span class="o">*</span><span class="n">points</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int16_t</span> <span class="p">[</span><span class="mi">700</span><span class="p">];</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">GetRegs</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="mi">5120</span><span class="p">,</span> <span class="mi">700</span><span class="p">)){</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">700</span> <span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
			<span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_pModbusReg_5</span><span class="o">-&gt;</span><span class="n">send_points</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>	
		<span class="p">}</span>	
	<span class="p">}</span>
	<span class="k">else</span> 
	<span class="p">{</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"GetRegs false</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"saved points</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">points</span><span class="p">;</span><span class="c1">//ä¼ é€’æ•°ç»„é¦–åœ°å€</span>
	<span class="k">delete</span> <span class="p">[]</span> <span class="n">points</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>reference:</p>

<p><a href="https://blog.csdn.net/happyhuidi/article/details/79825244">https://blog.csdn.net/happyhuidi/article/details/79825244</a></p>

<p><a href="https://www.runoob.com/cplusplus/cpp-dynamic-memory.html">èœé¸Ÿæ•™ç¨‹</a></p>

<p><a href="https://www.cnblogs.com/Wade-James/p/7965775.html">C/C++ä¸­å¦‚ä½•æ¥æ”¶returnè¿”å›æ¥çš„æ•°ç»„å…ƒç´ </a></p>

<hr />

<h3 id="project-requirements">Project Requirements</h3>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />1ã€ä»å•ç‰‡æœºä¸­è·å–é‡‡æ ·æ•°æ®</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />2ã€è§£å†³ä¸ºä½•æ•°æ®å°†è´Ÿæ•°ç½®é›¶äº†ğŸ˜¥</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />3ã€è§£å†³ç¼“å­˜åŒºå¤§å°ï¼Œæ”¹ç”¨åŠ¨æ€åˆ†é…å†…å­˜çš„æ–¹æ³•ğŸ˜±</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />4ã€è¿›ç¨‹é—´ä¿¡å·é‡é€šä¿¡çš„æ”¹è¿›ï¼ˆå®æ—¶ç³»ç»ŸRTXï¼‰ï¼Œå°†å·¥ä½œæ”¾åœ¨ä»»åŠ¡å‡½æ•°ä¸­è€Œä¸æ˜¯ä¸­æ–­å‡½æ•°ä¸­</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />5ã€è§£å†³è¯»å–æ³¢å½¢çš„æ•°æ®å¸§å› Modbusåè®®ä¼ è¾“æ…¢è€Œè¢«è¦†ç›–éƒ¨åˆ†çš„é—®é¢˜ï¼ˆè®¾ç½®åˆç†çš„ä¼ è¾“æ–¹å¼â€”â€”ç¼“å†²åŒºï¼Œä»¥åŠä¼ è¾“æ•°é‡å’Œé‡‡æ ·ç‚¹ï¼‰</li>
</ul>

:ET